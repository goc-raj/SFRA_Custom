{"version":3,"file":"default/js/giftCertificate/giftCert.js","mappings":"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","sources":["webpack://sfra/./cartridges/app_custom_sfra/cartridge/client/default/js/giftCertificate/giftCert.js","webpack://sfra/webpack/bootstrap","webpack://sfra/webpack/before-startup","webpack://sfra/webpack/startup","webpack://sfra/webpack/after-startup"],"sourcesContent":["'use strict';\n//var base = require('./base');\n\n/**\n * Updates the Mini-Cart quantity value after the customer has pressed the \"Add to Cart\" button\n * @param {string} response - ajax response from clicking the add to cart button\n */\nfunction handlePostCartAdd(response) {\n    $('.minicart').trigger('count:update', response);\n    var messageType = response.error ? 'alert-danger' : 'alert-success';\n\n    if ($('.add-to-cart-messages').length === 0) {\n        $('body').append(\n            '<div class=\"add-to-cart-messages\"></div>'\n        );\n    }\n\n    $('.add-to-cart-messages').append(\n        '<div class=\"alert ' + messageType + ' add-to-basket-alert text-center\" role=\"alert\">'\n        + response.message\n        + '</div>'\n    );\n\n    setTimeout(function () {\n        $('.add-to-basket-alert').remove();\n    }, 5000);\n\n}\n\n/**\n * Makes a call to the server to report the event of adding an item to the cart\n *\n * @param {string | boolean} url - a string representing the end point to hit so that the event can be recorded, or false\n */\nfunction miniCartReportingUrl(url) {\n    if (url) {\n        $.ajax({\n            url: url,\n            method: 'GET',\n            success: function () {\n                // reporting urls hit on the server\n            },\n            error: function () {\n                // no reporting urls hit on the server\n            }\n        });\n    }\n}\n\nmodule.exports= {\n    addGiftCertToCart: function () {\n        $(document).on('submit', '.giftCardForm', function (e) {\n            var addToCartUrl;\n            var pid;\n            e.preventDefault();\n            $('body').trigger('product:beforeAddToCart', this);\n\n            var formData = $('.giftCardForm').serialize();\n            addToCartUrl = $('.add-to-cart-url').val();\n            pid = $('#prodId').val();\n            // var form = {\n            //     pid: pid,\n            //     pidsObj: {},\n            //     childProducts: [],\n            //     quantity: 1,\n            //     formData: formData\n            // };\n            var form = $('.giftCardForm');\n\n            $(this).trigger('updateAddToCartFormData', form);\n            if (addToCartUrl) {\n                $.ajax({\n                    url: addToCartUrl,\n                    method: 'POST',\n                    data: form.serialize(),\n                    success: function (data) {\n                        handlePostCartAdd(data);\n                        $('body').trigger('product:afterAddToCart', data);\n                        $.spinner().stop();\n                        miniCartReportingUrl(data.reportingURL);\n                    },\n                    error: function () {\n                        $.spinner().stop();\n                    }\n                });\n            }\n        });\n    },\n\n    miniCartReportingUrl: miniCartReportingUrl\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./cartridges/app_custom_sfra/cartridge/client/default/js/giftCertificate/giftCert.js\");\n",""],"names":["handlePostCartAdd","response","$","trigger","messageType","error","length","append","message","setTimeout","remove","miniCartReportingUrl","url","ajax","method","success","module","exports","addGiftCertToCart","document","on","e","addToCartUrl","pid","preventDefault","formData","serialize","val","form","data","spinner","stop","reportingURL"],"sourceRoot":""}