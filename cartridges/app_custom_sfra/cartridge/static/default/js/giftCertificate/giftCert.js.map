{"version":3,"file":"default/js/giftCertificate/giftCert.js","mappings":"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","sources":["webpack://sfra/./cartridges/app_custom_sfra/cartridge/client/default/js/giftCertificate/giftCert.js","webpack://sfra/webpack/bootstrap","webpack://sfra/webpack/before-startup","webpack://sfra/webpack/startup","webpack://sfra/webpack/after-startup"],"sourcesContent":["'use strict';\n//var base = require('./base');\n\n/**\n * Updates the Mini-Cart quantity value after the customer has pressed the \"Add to Cart\" button\n * @param {string} response - ajax response from clicking the add to cart button\n */\nfunction handlePostCartAdd(response) {\n    $('.minicart').trigger('count:update', response);\n    var messageType = response.error ? 'alert-danger' : 'alert-success';\n    // show add to cart toast\n    if (response.newBonusDiscountLineItem\n        && Object.keys(response.newBonusDiscountLineItem).length !== 0) {\n        chooseBonusProducts(response.newBonusDiscountLineItem);\n    } else {\n        if ($('.add-to-cart-messages').length === 0) {\n            $('body').append(\n                '<div class=\"add-to-cart-messages\"></div>'\n            );\n        }\n\n        $('.add-to-cart-messages').append(\n            '<div class=\"alert ' + messageType + ' add-to-basket-alert text-center\" role=\"alert\">'\n            + response.message\n            + '</div>'\n        );\n\n        setTimeout(function () {\n            $('.add-to-basket-alert').remove();\n        }, 5000);\n    }\n}\n\nmodule.exports= {\n    addGiftCertToCart: function () {\n        $(document).on('click', 'button.add-giftcert-to-cart', function () {\n            var addToCartUrl;\n            var pid;\n            var pidsObj;\n            var setPids;\n\n            $('body').trigger('product:beforeAddToCart', this);\n\n            /*\n            if ($('.set-items').length && $(this).hasClass('add-to-cart-global')) {\n                setPids = [];\n\n                $('.product-detail').each(function () {\n                    if (!$(this).hasClass('product-set-detail')) {\n                        setPids.push({\n                            pid: $(this).find('.product-id').text(),\n                            qty: $(this).find('.quantity-select').val(),\n                            options: getOptions($(this))\n                        });\n                    }\n                });\n                pidsObj = JSON.stringify(setPids);\n            }\n\n            pid = getPidValue($(this));\n\n            var $productContainer = $(this).closest('.product-detail');\n            if (!$productContainer.length) {\n                $productContainer = $(this).closest('.quick-view-dialog').find('.product-detail');\n            }\n            */\n\n            addToCartUrl = $('.add-giftcert-to-cart-url').val();\n            /*\n            console.log('addToCartUrl: ' + addToCartUrl);\n            console.log('giftCertTo: ' + $('#giftcertificate-recipient').val());\n            console.log('giftCertEmail: ' + $('#giftcertificate-email').val());\n            console.log('giftCertAmount: ' + $('#giftcertificate-amount').val());\n            console.log('giftCertMessage: ' + $('#giftcertificate-message').val());\n            */\n\n            var form = {\n                pid: pid,\n                pidsObj: pidsObj,\n                childProducts: [],\n                quantity: 1,\n                giftCertTo: $('#giftcertificate-recipient').val(),\n                giftCertEmail: $('#giftcertificate-email').val(),\n                giftCertAmount: $('#giftcertificate-amount').val(),\n                giftCertMessage: $('#giftcertificate-message').val()\n            };\n\n            /*\n            if (!$('.bundle-item').length) {\n                form.options = getOptions($productContainer);\n            }\n            */\n\n            $(this).trigger('updateAddToCartFormData', form);\n            if (addToCartUrl) {\n                $.ajax({\n                    url: addToCartUrl,\n                    method: 'POST',\n                    data: form,\n                    success: function (data) {\n                        handlePostCartAdd(data);\n                        $('body').trigger('product:afterAddToCart', data);\n                        $.spinner().stop();\n                    },\n                    error: function () {\n                        $.spinner().stop();\n                    }\n                });\n            }\n        });\n    }\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./cartridges/app_custom_sfra/cartridge/client/default/js/giftCertificate/giftCert.js\");\n",""],"names":["handlePostCartAdd","response","$","trigger","messageType","error","newBonusDiscountLineItem","Object","keys","length","chooseBonusProducts","append","message","setTimeout","remove","module","exports","addGiftCertToCart","document","on","addToCartUrl","pid","pidsObj","setPids","val","form","childProducts","quantity","giftCertTo","giftCertEmail","giftCertAmount","giftCertMessage","ajax","url","method","data","success","spinner","stop"],"sourceRoot":""}